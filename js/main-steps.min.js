"use strict";document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("#menu"),c=document.querySelector("#menu-list"),e=document.querySelectorAll(".navigation--mobile .navigation__list"),v=document.querySelector("body");t.addEventListener("click",function(e){this.classList.toggle("close"),c.classList.toggle("show"),v.classList.toggle("is-fixed")}),e.forEach(e=>{e.addEventListener("click",function(){t.classList.toggle("close"),c.classList.toggle("show"),setTimeout(()=>{v.classList.toggle("is-fixed")},1500)})});let a=document.querySelectorAll(".btn-next"),s=document.querySelectorAll(".btn-prev"),m=document.querySelectorAll(".steps_section");function o(e,t,c,a,s){t.addEventListener("input",function(){e.value=this.value,e.value>=c&&e.value<=a?document.querySelector(`.btn-next[data-next="${s}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${s}"]`).classList.remove("active")}),e.addEventListener("input",function(){t.value=this.value,e.value>=c&&e.value<=a?document.querySelector(`.btn-next[data-next="${s}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${s}"]`).classList.remove("active")})}a.forEach(e=>{let t=e.getAttribute("data-next");e.addEventListener("click",function(){m.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})}),s.forEach(e=>{let t=e.getAttribute("data-prev");e.addEventListener("click",function(){m.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})});let p=document.querySelector(".price-step-2"),n=document.querySelector(".range-1");o(p,n,5e3,1e6,3);let y=document.querySelector(".price-step-3"),l=document.querySelector(".range-2");o(y,l,1e5,5e5,4);let L=document.querySelector(".price-step-5"),r=document.querySelector(".range-5");o(L,r,1,30,6);let S=document.querySelector(".price-step-6");S.addEventListener("input",function(){1<=S.value&&S.value<=5e5?document.querySelector('.btn-next[data-next="7"]').classList.add("active"):document.querySelector('.btn-next[data-next="7"]').classList.remove("active")});document.querySelector("#email").addEventListener("input",()=>{return document.querySelector("#email").value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?document.querySelector('.btn-next[data-next="9"]').classList.add("active"):document.querySelector('.btn-next[data-next="9"]').classList.remove("active"),!1});let u=document.querySelector("#name"),d=document.querySelector("#tel"),i=document.querySelector("#psc"),q=!1,h=!1,x=!1;u.addEventListener("input",function(){""!=this.value?(q=!0,q&&h&&x&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(q=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))}),d.addEventListener("input",function(){var e;""!=this.value&&(e=this.value,/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e))?(h=!0,q&&h&&x&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(h=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))}),i.addEventListener("input",function(){""!=this.value?(x=!0,q&&h&&x&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(x=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))});let f=document.querySelector("#submit");f.addEventListener("click",async function(c){c.preventDefault();var a=p.value,s=y.value,o=L.value,n=S.value,l=document.querySelector(".step__labels--type .step__checkbox:checked").value,r=document.querySelector(".step__labels--percent .step__checkbox:checked").value,u=document.querySelector("#email").value,d=document.querySelector("#name").value,i=document.querySelector("#tel").value,c=document.querySelector("#psc").value;if(""!=a&&""!=s&&""!=o&&""!=n&&""!=l&&""!=r&&""!=u&&""!=d&&""!=i&&""!=c){let e=new FormData;e.append("value_1",a),e.append("value_2",s),e.append("value_3",l),e.append("value_4",o),e.append("value_5",n),e.append("value_6",r),e.append("value_7",u),e.append("value_8",d),e.append("value_9",i),e.append("value_10",c);let t=await fetch("sendEmail.php",{method:"POST",body:e});v.classList.add("opacity"),t.ok?"ok"==(await t.json()).message?(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="10"]').classList.add("show")})):(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error")):(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error"))}else v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error")})});