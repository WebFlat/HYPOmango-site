var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,n,c,r,o,i="",l=0;for(e=Base64._utf8_encode(e);l<e.length;)n=(o=e.charCodeAt(l++))>>2,c=(3&o)<<4|(t=e.charCodeAt(l++))>>4,r=(15&t)<<2|(a=e.charCodeAt(l++))>>6,o=63&a,isNaN(t)?r=o=64:isNaN(a)&&(o=64),i=i+this._keyStr.charAt(n)+this._keyStr.charAt(c)+this._keyStr.charAt(r)+this._keyStr.charAt(o);return i},decode:function(e){var t,a,n,c,r,o,i="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)n=this._keyStr.indexOf(e.charAt(l++)),t=(15&(c=this._keyStr.indexOf(e.charAt(l++))))<<4|(r=this._keyStr.indexOf(e.charAt(l++)))>>2,a=(3&r)<<6|(o=this._keyStr.indexOf(e.charAt(l++))),i+=String.fromCharCode(n<<2|c>>4),64!=r&&(i+=String.fromCharCode(t)),64!=o&&(i+=String.fromCharCode(a));return i=Base64._utf8_decode(i)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){var t,a="",n=0;for(c1=c2=0;n<e.length;)(t=e.charCodeAt(n))<128?(a+=String.fromCharCode(t),n++):191<t&&t<224?(c2=e.charCodeAt(n+1),a+=String.fromCharCode((31&t)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),a+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),n+=3);return a}};let menu=document.querySelector("#menu"),list=document.querySelector("#menu-list"),nav=document.querySelectorAll(".navigation--mobile .navigation__list"),body=document.querySelector("body");menu.addEventListener("click",function(e){this.classList.toggle("close"),list.classList.toggle("show"),body.classList.toggle("is-fixed")});let next_btn=document.querySelectorAll(".btn-next"),back_btn=document.querySelectorAll(".btn-prev"),sections=document.querySelectorAll(".steps_section");function renderSteps(e,t,a,n,c){t.addEventListener("input",function(){e.value=this.value,e.value>=a&&e.value<=n?document.querySelector(`.btn-next[data-next="${c}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${c}"]`).classList.remove("active")}),e.addEventListener("input",function(){t.value=this.value,e.value>=a&&e.value<=n?document.querySelector(`.btn-next[data-next="${c}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${c}"]`).classList.remove("active")})}next_btn.forEach(e=>{let t=e.getAttribute("data-next");e.addEventListener("click",function(){sections.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})}),back_btn.forEach(e=>{let t=e.getAttribute("data-prev");e.addEventListener("click",function(){sections.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})});let price_1=document.querySelector(".price-step-2"),range_1=document.querySelector(".range-1");renderSteps(price_1,range_1,5e3,1e6,3);let price_2=document.querySelector(".price-step-3"),range_2=document.querySelector(".range-2");renderSteps(price_2,range_2,1e5,5e5,4);let price_3=document.querySelector(".price-step-5"),range_3=document.querySelector(".range-5");renderSteps(price_3,range_3,1,30,6);let price_6=document.querySelector(".price-step-6");price_6.addEventListener("input",function(){1<=price_6.value&&price_6.value<=5e5?document.querySelector('.btn-next[data-next="7"]').classList.add("active"):document.querySelector('.btn-next[data-next="7"]').classList.remove("active")});const validateEmail=e=>e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),validate=()=>{var e=document.querySelector("#email").value;return validateEmail(e)?document.querySelector('.btn-next[data-next="9"]').classList.add("active"):document.querySelector('.btn-next[data-next="9"]').classList.remove("active"),!1};document.querySelector("#email").addEventListener("input",validate);let name_inp=document.querySelector("#name"),tel=document.querySelector("#tel"),psc=document.querySelector("#psc"),validate_1=!1,validate_2=!1,validate_3=!1;function validatePhoneNumber(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e)}name_inp.addEventListener("input",function(){""!=this.value?(validate_1=!0,validate_1&&validate_2&&validate_3&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(validate_1=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))}),tel.addEventListener("input",function(){""!=this.value&&validatePhoneNumber(this.value)?(validate_2=!0,validate_1&&validate_2&&validate_3&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(validate_2=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))}),psc.addEventListener("input",function(){""!=this.value?(validate_3=!0,validate_1&&validate_2&&validate_3&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(validate_3=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))});let send_action=document.querySelector("#submit");function sendMail(e,t){const a=new Headers;a.append("Content-Type","application/json"),a.set("Authorization","Basic "+base64.encode("161cc04c8e98ae3f65dedf152de92571:b5031574b0ab670d84c3eb4af6745f95"));t=JSON.stringify({Messages:[{From:{Email:"y.vacheslav@gmail.com",Name:"Vyacheslav"},To:[{Email:"y.vacheslav@gmail.com",Name:"Vyacheslav"}],Subject:e,TextPart:t}]}),t={method:"POST",headers:a,body:t};fetch("https://api.mailjet.com/v3.1/send",t).then(e=>e.text()).then(e=>console.log(e)).catch(e=>console.log("error",e))}send_action.addEventListener("click",function(){var e=price_1.value,t=price_2.value,a=price_3.value,n=price_6.value;sendMail("Hypotéku HYPOmango!",`<p>Aku výšku hypotéky potrebujete: ${e}</p>
                <p>Aka je hodnota nehnuteľnosti: ${t}</p>
                <p>Typ nehnutelnosti: ${document.querySelector(".step__labels--type .step__checkbox:checked").value}</p>
                <p>Kolko rokov chcete splácať: ${a}</p>
                <p>Kolko rokov chcete splácať: ${n}</p>
                <p>Kolko % z hodnoty požadujete: ${document.querySelector(".step__labels--percent .step__checkbox:checked").value}</p>
                <p>Mailu: ${document.querySelector("#email").value}</p>
                <p>Meno a priezvisko: ${document.querySelector("#name").value}</p>
                <p>Telefon: ${document.querySelector("#tel").value}</p>
                <p>PSČ: ${document.querySelector("#psc").value}</p>`)});