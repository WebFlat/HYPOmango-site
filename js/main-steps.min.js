"use strict";document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("#menu"),s=document.querySelector("#menu-list"),e=document.querySelectorAll(".navigation--mobile .navigation__list"),v=document.querySelector("body");t.addEventListener("click",function(e){this.classList.toggle("close"),s.classList.toggle("show"),v.classList.toggle("is-fixed")}),e.forEach(e=>{e.addEventListener("click",function(){t.classList.toggle("close"),s.classList.toggle("show"),setTimeout(()=>{v.classList.toggle("is-fixed")},1500)})});let c=document.querySelectorAll(".btn-next"),a=document.querySelectorAll(".btn-prev"),o=document.querySelector("#error-email-step"),n=document.querySelector("#error-tel-step"),m=document.querySelectorAll(".steps_section");function l(e,t,s,c,a){t.addEventListener("input",function(){e.value=this.value,e.value>=s&&e.value<=c?document.querySelector(`.btn-next[data-next="${a}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${a}"]`).classList.remove("active")}),e.addEventListener("input",function(){t.value=this.value,e.value>=s&&e.value<=c?document.querySelector(`.btn-next[data-next="${a}"]`).classList.add("active"):document.querySelector(`.btn-next[data-next="${a}"]`).classList.remove("active")})}c.forEach(e=>{let t=e.getAttribute("data-next");e.addEventListener("click",function(){m.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})}),a.forEach(e=>{let t=e.getAttribute("data-prev");e.addEventListener("click",function(){m.forEach(e=>{e.classList.remove("show"),document.querySelector(`.steps_section[data-level="${t}"]`).classList.add("show")})})});let p=document.querySelector(".price-step-2"),r=document.querySelector(".range-1");l(p,r,5e3,1e6,3);let y=document.querySelector(".price-step-3"),u=document.querySelector(".range-2");l(y,u,1e5,1e6,4);let L=document.querySelector(".price-step-5"),d=document.querySelector(".range-5");l(L,d,1,30,6);let S=document.querySelector(".price-step-6");S.addEventListener("input",function(){1<=S.value&&S.value<=5e5?document.querySelector('.btn-next[data-next="7"]').classList.add("active"):document.querySelector('.btn-next[data-next="7"]').classList.remove("active")});document.querySelector("#email").addEventListener("input",()=>{var e=document.querySelector("#email").value;return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&""!=e?(document.querySelector('.btn-next[data-next="9"]').classList.add("active"),o.classList.remove("show")):""==e?setTimeout(function(){o.classList.remove("show")},1e3):(document.querySelector('.btn-next[data-next="9"]').classList.remove("active"),o.classList.add("show")),!1});let i=document.querySelector("#name"),q=document.querySelector("#tel"),h=document.querySelector("#psc"),x=!1,f=!1,_=!1;i.addEventListener("input",function(){""!=this.value?(x=!0,x&&f&&_&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(x=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))}),q.addEventListener("input",function(){var e;""!=this.value&&(e=this.value,/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e))?(f=!0,x&&f&&_&&(document.querySelector('.btn-next[data-next="10"]').classList.add("active"),n.classList.remove("show"))):""==this.value?setTimeout(function(){n.classList.remove("show")},1e3):(f=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"),n.classList.add("show"))}),h.addEventListener("input",function(){""!=this.value?(_=!0,x&&f&&_&&document.querySelector('.btn-next[data-next="10"]').classList.add("active")):(_=!1,document.querySelector('.btn-next[data-next="10"]').classList.remove("active"))});let b=document.querySelector("#submit");b.addEventListener("click",async function(s){s.preventDefault();var c=p.value,a=y.value,o=L.value,n=S.value,l=document.querySelector(".step__labels--type .step__checkbox:checked").value,r=document.querySelector(".step__labels--percent .step__checkbox:checked").value,u=document.querySelector("#email").value,d=document.querySelector("#name").value,i=document.querySelector("#tel").value,s=document.querySelector("#psc").value;if(""!=c&&""!=a&&""!=o&&""!=n&&""!=l&&""!=r&&""!=u&&""!=d&&""!=i&&""!=s){let e=new FormData;e.append("value_1",c),e.append("value_2",a),e.append("value_3",l),e.append("value_4",o),e.append("value_5",n),e.append("value_6",r),e.append("value_7",u),e.append("value_8",d),e.append("value_9",i),e.append("value_10",s);let t=await fetch("sendEmail.php",{method:"POST",body:e});v.classList.add("opacity"),t.ok?"ok"==(await t.json()).message?(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="10"]').classList.add("show")})):(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error")):(v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error"))}else v.classList.remove("opacity"),m.forEach(e=>{e.classList.remove("show"),document.querySelector('.steps_section[data-level="11"]').classList.add("show")}),console.log("error")})});