"use strict";document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("#menu"),s=document.querySelector("#menu-list"),e=document.querySelectorAll(".navigation--mobile .navigation__list"),o=document.querySelector("body");t.addEventListener("click",function(e){this.classList.toggle("close"),s.classList.toggle("show"),o.classList.toggle("is-fixed")}),e.forEach(e=>{e.addEventListener("click",function(){t.classList.toggle("close"),s.classList.toggle("show"),setTimeout(()=>{o.classList.toggle("is-fixed")},1500)})});const a=e=>e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);let n=document.querySelector("#form_email"),c=document.querySelector("#form_name"),l=document.querySelector("#form_tel"),r=document.querySelector("#form_text"),u=document.querySelector(".form__error"),d=document.querySelector("#ContactForm"),i=!1,v=!1,m=!1,L=!1,g=document.querySelector("#submit");function f(){n.value="",c.value="",l.value="",r.value=""}n.addEventListener("input",()=>{var e=document.querySelector("#form_email").value;return a(e)?(v=!0,a(e)&&1==i&&1==m&&1==L&&g.classList.add("active")):(v=!1,g.classList.remove("active")),!1}),l.addEventListener("input",function(){var e;""!=this.value&&(e=this.value,/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e))?(i=!0,1==v&&1==i&&1==m&&1==L&&g.classList.add("active")):(i=!1,g.classList.remove("active"))}),c.addEventListener("input",function(){""!=this.value?(m=!0,1==v&&1==i&&1==L&&1==m&&g.classList.add("active")):(g.classList.remove("active"),m=!1)}),r.addEventListener("input",function(){""!=this.value?(L=!0,1==v&&1==i&&1==m&&1==L&&g.classList.add("active")):(g.classList.remove("active"),L=!1)}),g.addEventListener("click",async function(s){s.preventDefault();var o=c.value,a=l.value,i=n.value,s=r.value;if(""!=o&&""!=a&&""!=i&&""!=s){let e=new FormData;e.append("value_1",o),e.append("value_2",a),e.append("value_3",i),e.append("value_4",s),d.classList.add("sending");let t=await fetch("sendEmailMain.php",{method:"POST",body:e});t.ok?(s=await t.json(),console.log(s.message),"ok"==s.message?(d.classList.remove("sending"),u.innerHTML="Správa poslaná!",u.classList.add("show"),f(),setTimeout(function(){u.classList.remove("show")},2e3)):(d.classList.remove("sending"),u.classList.add("show"),setTimeout(function(){u.classList.remove("show")},2e3),f(),console.log("error"))):(d.classList.remove("sending"),u.classList.add("show"),setTimeout(function(){u.classList.remove("show")},2e3),f(),console.log("error"))}else d.classList.remove("sending"),u.classList.add("show"),setTimeout(function(){u.classList.remove("show")},2e3),f(),console.log("error")})});